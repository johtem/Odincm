@model Articles.DetailsModel
@using Microsoft.Extensions.Options;
@using OdinCM.Configuration;
@inject IOptionsSnapshot<AppSettings> settings

@if (User.Identity.IsAuthenticated)
{


    @if (settings.Value.Comments.IsEngineLocal)
    {
        @await Component.InvokeAsync("CreateComments", new Models.Comment { IdArticle = Model.Article.Id })
        @await Component.InvokeAsync("ListComments", @Model.Article.Comments)
    }
    else
    {
        <partial name="_DisqusComments" model="settings.Value.Comments.Disqus.ShortName" />
    }
}